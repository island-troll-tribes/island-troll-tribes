
library IsTypeThing initializer onInit requires ID, Table, HashMap
  globals
    HashMap<int, int> UNIT_TROLL_ALL
    constant integer TROLL_BASE_CLASS  = 100
    constant integer TROLL_SUB_CLASS   = 101
    constant integer TROLL_SUPER_CLASS = 102
  endglobals

  public function isUnitTroll takes unit u returns boolean
    return UNIT_TROLL_ALL.has( GetUnitTypeId( u ) ) or GetUnitTypeId( u ) == UNIT_CRAFT_MASTER // pretty hacky... oh well...
  endfunction

  public function isUnitThiefClass takes unit u returns boolean
    local integer id = GetUnitTypeId(u)
    return id == UNIT_THIEF or id == UNIT_ESCAPE_ARTIST or id == UNIT_CONTORTIONIST or id == UNIT_ASSASSIN
  endfunction

  public function isUnitBoss takes unit u returns boolean
    local integer uid = GetUnitTypeId(u)
    return uid == UNIT_ALIGATOR_MAN or uid == UNIT_ANCIENT_HYDRA or uid == UNIT_DISCO_DUCK or uid == UNIT_LESSER_HYDRA or uid == UNIT_MAGENTA_FISH or uid == UNIT_MAMMOTH or uid == UNIT_ONE or uid == UNIT_RAPID_TURTLE or uid == UNIT_ELDER_PANTHER
  endfunction

  public function isItemHide takes item i returns boolean
    return GetItemTypeId(i) == ITEM_ELK_HIDE or GetItemTypeId(i) == ITEM_JUNGLE_WOLF_HIDE or GetItemTypeId(i) == ITEM_JUNGLE_BEAR_HIDE
  endfunction

  public function isItemPole takes item i returns boolean
    return GetItemTypeId(i) == ITEM_BONE or GetItemTypeId(i) == ITEM_STICK
  endfunction

  public function isItemCoat takes item i returns boolean
    return GetItemTypeId(i) == ITEM_ELK_SKIN_COAT or GetItemTypeId(i) == ITEM_BEAR_SKIN_COAT or GetItemTypeId(i) == ITEM_WOLF_SKIN_COAT or GetItemTypeId(i) == ITEM_BONE_COAT or GetItemTypeId(i) == ITEM_BATTLE_SUIT or GetItemTypeId(i) == ITEM_IRON_COAT or GetItemTypeId(i) == ITEM_STEEL_COAT or GetItemTypeId(i) == ITEM_CAMOUFLAGE_COAT or GetItemTypeId(i)==ITEM_BATTLE_ARMOR or GetItemTypeId(i) == ITEM_BATTLE_SUIT or GetItemTypeId(i) == ITEM_HARDEN_SCALES or GetItemTypeId(i) == ITEM_CLOAK_OF_FLAMES or GetItemTypeId(i) == ITEM_CLOAK_OF_FROST or GetItemTypeId(i) == ITEM_CLOAK_OF_HEALING or GetItemTypeId(i) == ITEM_CLOAK_OF_MANA or GetItemTypeId(i) == ITEM_BATTLE_SUIT
  endfunction

  public function isItemPinion takes item i returns boolean
    return GetItemTypeId(i) == ITEM_DD_PINION_FIRE or GetItemTypeId(i) == ITEM_DD_PINION_SHADOW or GetItemTypeId(i) == ITEM_DD_PINION_PAIN
  endfunction

  public function isItemGloves takes item i returns boolean
    return GetItemTypeId(i) == ITEM_ELK_SKIN_GLOVES or GetItemTypeId(i) == ITEM_WOLF_SKIN_GLOVES or GetItemTypeId(i) == ITEM_BEAR_SKIN_GLOVES or GetItemTypeId(i) == ITEM_BONE_GLOVES or GetItemTypeId(i) == ITEM_IRON_GLOVES or GetItemTypeId(i) == ITEM_STEEL_GLOVES or GetItemTypeId(i) == ITEM_BATTLE_GLOVES or GetItemTypeId(i) == ITEM_HYDRA_CLAWS or GetItemTypeId(i) == ITEM_BATTLE_SUIT
  endfunction

  public function isItemBoots takes item i returns boolean
    return GetItemTypeId(i) == ITEM_ELK_SKIN_BOOTS or GetItemTypeId(i) == ITEM_WOLF_SKIN_BOOTS or GetItemTypeId(i) == ITEM_BEAR_SKIN_BOOTS or GetItemTypeId(i) == ITEM_BONE_BOOTS or GetItemTypeId(i) == ITEM_IRON_BOOTS or GetItemTypeId(i) == ITEM_STEEL_BOOTS or GetItemTypeId(i) == ITEM_ANABOLIC_BOOTS or GetItemTypeId(i) == ITEM_HYDRA_FINS or GetItemTypeId(i) == ITEM_BATTLE_SUIT
  endfunction

  public function isItemSpell takes item i returns boolean
    return GetItemTypeId(i) == ITEM_SCROLL_FIREBALL or GetItemTypeId(i) == ITEM_SCROLL_LIVING_DEAD or GetItemTypeId(i) == ITEM_SCROLL_ENTANGLING_ROOTS or GetItemTypeId(i) == ITEM_SCROLL_STONE_ARMOR or GetItemTypeId(i) == ITEM_SCROLL_CYCLONE or GetItemTypeId(i) == ITEM_SCROLL_TSUNAMI or GetItemTypeId(i) == ITEM_SCROLL_SWIFTNESS
  endfunction

  public function isItemAnyAxe takes item i returns boolean
    return GetItemTypeId(i) == ITEM_FLINT_AXE or GetItemTypeId(i) == ITEM_STONE_AXE or GetItemTypeId(i) == ITEM_IRON_AXE or GetItemTypeId(i) == ITEM_STEEL_AXE or GetItemTypeId(i)==ITEM_MAGE_MASHER or GetItemTypeId(i) == ITEM_BATTLE_AXE or GetItemTypeId(i) == ITEM_BATTLE_SUIT or GetItemTypeId(i) == ITEM_BATTLE_SPEAR
  endfunction

  public function isItemAnyShield takes item i returns boolean
    return GetItemTypeId(i) == ITEM_SHIELD or GetItemTypeId(i) == ITEM_BONE_SHIELD or GetItemTypeId(i) == ITEM_IRON_SHIELD or GetItemTypeId(i) == ITEM_STEEL_SHIELD or GetItemTypeId(i) == ITEM_BATTLE_SHIELD or GetItemTypeId(i) == ITEM_BATTLE_SUIT
  endfunction

  public function isItemAxeOrShield takes item i returns boolean
    return isItemAnyAxe(i) or isItemAnyShield(i)
  endfunction

  public function isItemBasicBoots takes item i returns boolean
    return GetItemTypeId(i) == ITEM_WOLF_SKIN_BOOTS or GetItemTypeId(i) == ITEM_ELK_SKIN_BOOTS or GetItemTypeId(i) == ITEM_BEAR_SKIN_BOOTS
  endfunction

  public function isItemBasicGloves takes item i returns boolean
    return GetItemTypeId(i) == ITEM_ELK_SKIN_GLOVES or GetItemTypeId(i) == ITEM_WOLF_SKIN_GLOVES or GetItemTypeId(i) == ITEM_BEAR_SKIN_GLOVES
  endfunction

  public function isItemBasicCoat takes item i returns boolean
    return GetItemTypeId(i) == ITEM_ELK_SKIN_COAT or GetItemTypeId(i) == ITEM_BEAR_SKIN_COAT or GetItemTypeId(i) == ITEM_WOLF_SKIN_COAT
  endfunction

  public function isItemBasicShield takes item i returns boolean
    return GetItemTypeId(i) == ITEM_SHIELD
  endfunction

  public function isUnitTradeShip takes unit u returns boolean
    return GetUnitTypeId(u) == UNIT_TRADE_SHIP_1 or GetUnitTypeId(u) == UNIT_TRADE_SHIP_2 or GetUnitTypeId(u) == UNIT_TRADE_SHIP_3 or GetUnitTypeId(u) == UNIT_TRADE_SHIP_4 or GetUnitTypeId(u) == UNIT_TRADE_SHIP_5 or GetUnitTypeId(u) == UNIT_TRADE_SHIP_6
  endfunction

  public function isDestructableTree takes destructable d returns boolean
    return GetDestructableTypeId(d) == DEST_NORMAL_TREE or GetDestructableTypeId(d) == DEST_ROTTEN_TREE or GetDestructableTypeId(d) == DEST_CANOPY_TREE or GetDestructableTypeId(d) == DEST_HOLLOW_TREE
  endfunction

  function onInit takes nothing returns nothing
    UNIT_TROLL_ALL = new HashMap<int,int>()
    UNIT_TROLL_ALL
    ..put(UNIT_HUNTER, TROLL_BASE_CLASS)
    ..put(UNIT_HUNTER_1, TROLL_BASE_CLASS)
    ..put(UNIT_TRACKER, TROLL_SUB_CLASS)
    ..put(UNIT_WARRIOR, TROLL_SUB_CLASS)
    ..put(UNIT_JUGGERNAUT, TROLL_SUPER_CLASS)
    ..put(UNIT_BEAST_MASTER, TROLL_BASE_CLASS)
    ..put(UNIT_BEAST_MASTER_1, TROLL_BASE_CLASS)
    ..put(UNIT_SHAPESHIFTER_WOLF, TROLL_SUB_CLASS)
    ..put(UNIT_SHAPESHIFTER_BEAR, TROLL_SUB_CLASS)
    ..put(UNIT_SHAPESHIFTER_PANTHER, TROLL_SUB_CLASS)
    ..put(UNIT_SHAPESHIFTER_TIGER, TROLL_SUB_CLASS)
    ..put(UNIT_CHICKEN_FORM, TROLL_SUB_CLASS)
    ..put(UNIT_ULTIMATE_FORM, TROLL_SUPER_CLASS)
    ..put(UNIT_MAGE, TROLL_BASE_CLASS)
    ..put(UNIT_MAGE_1, TROLL_BASE_CLASS)
    ..put(UNIT_ELEMENTALIST, TROLL_SUB_CLASS)
    ..put(UNIT_ELEMENTALIST_1, TROLL_SUB_CLASS)
    ..put(UNIT_ELEMENTALIST_NEW, TROLL_SUB_CLASS)
    ..put(UNIT_HYPNOTIST, TROLL_SUB_CLASS)
    ..put(UNIT_DEMENTIA_MASTER, TROLL_SUPER_CLASS)
    ..put(UNIT_PRIEST, TROLL_BASE_CLASS)
    ..put(UNIT_BOOSTER, TROLL_SUB_CLASS)
    ..put(UNIT_BOOSTER_1, TROLL_SUB_CLASS)
    ..put(UNIT_MASTER_HEALER, TROLL_SUB_CLASS)
    ..put(UNIT_MASTER_HEALER_1, TROLL_SUB_CLASS)
    ..put(UNIT_SAGE, TROLL_SUPER_CLASS)
    ..put(UNIT_THIEF, TROLL_BASE_CLASS)
    ..put(UNIT_ESCAPE_ARTIST, TROLL_SUB_CLASS)
    ..put(UNIT_CONTORTIONIST, TROLL_SUB_CLASS)
    ..put(UNIT_ASSASSIN, TROLL_SUPER_CLASS)
    ..put(UNIT_SCOUT, TROLL_BASE_CLASS)
    ..put(UNIT_OBSERVER, TROLL_SUB_CLASS)
    ..put(UNIT_TRAPPER, TROLL_SUB_CLASS)
    ..put(UNIT_SPY, TROLL_SUPER_CLASS)
    ..put(UNIT_GATHERER, TROLL_BASE_CLASS)
    ..put(UNIT_RADAR_GATHERER, TROLL_SUB_CLASS)
    ..put(UNIT_HERB_MASTER, TROLL_SUB_CLASS)
    ..put(UNIT_OMNIGATHERER, TROLL_SUPER_CLASS)
    ..put(UNIT_DRUNKEN_TROLL, TROLL_BASE_CLASS)
    ..put(UNIT_TROLL_BRAWLER, TROLL_SUB_CLASS)
    ..put(UNIT_TROLL_BREWMASTER, TROLL_SUB_CLASS)
  endfunction
endlibrary
