package InitializeUnits
import ClosureForGroups
import ID
import RecipeBooks
import TheOneHut
import UnitExtensions

public destructable MAMMOTH_GATE
public unit MAMMOTH = null
public unit MASTER_CRAFTER = null
public unit OMINOUS_ALTAR = null

init
    EnumDestructablesInRect(GetWorldBounds(), null) ->
        let d = GetEnumDestructable()
        if d.getTypeId() == 'ZTg4'
            MAMMOTH_GATE = d..setInvulnerable(true)

    forUnitsAll() u ->
        if u.getTypeId() == UNIT_MAMMOTH
            MAMMOTH = u
        if u.getTypeId() == UNIT_CRAFT_MASTER
            MASTER_CRAFTER = u
        if u.getTypeId() == UNIT_OMINOUS_ALTAR
            OMINOUS_ALTAR = u..addItemToStock(ITEM_HYDRA_HINT, 1, 1)


    createUnit(players[PLAYER_NEUTRAL_PASSIVE], UNIT_ARMORY           , vec2(2360.0, -10880.0), (270.0).asAngleDegrees())..addAbility('Aloc')
    createUnit(players[PLAYER_NEUTRAL_PASSIVE], UNIT_WORKSHOP         , vec2(2030.0, -10880.0), (270.0).asAngleDegrees())..addAbility('Aloc')
    createUnit(players[PLAYER_NEUTRAL_PASSIVE], UNIT_TANNERY          , vec2(1730.0, -10880.0), (270.0).asAngleDegrees())..addAbility('Aloc')
    createUnit(players[PLAYER_NEUTRAL_PASSIVE], UNIT_POT              , vec2(1730.0, -11180.0), (270.0).asAngleDegrees())..addAbility('Aloc')
    createUnit(players[PLAYER_NEUTRAL_PASSIVE], UNIT_WITCH_DOCTORS_HUT, vec2(1730.0, -11480.0), (270.0).asAngleDegrees())..addAbility('Aloc')
    createUnit(players[PLAYER_NEUTRAL_PASSIVE], UNIT_FORGE            , vec2(2660.0, -10880.0), (270.0).asAngleDegrees())..addAbility('Aloc')

    //TheOne Hut
    createUnit(players[PLAYER_NEUTRAL_PASSIVE], TOH_ID, gg_rct_TheOneCliff.getCenter() - vec2(-50, 50), (270.0).asAngleDegrees())..addAbility('Aloc')
